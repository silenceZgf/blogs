# 自动化部署:本地war包, 本地应用服务器

## 1. 新建自由风格的job

1. 点击jenkins -&gt; 新建
2. 输入job名称, 选择'自由风格的项目', 点击OK
   ![](/assets/jenkins_2017-06-016_205126.png)

## 2. 配置General

### 2.1 项目名称

* 这个地方笔者认为叫任务名称更合适, 首先这是一个任务, 其次此名称对应的jenkins 内置变量为 JOB\_NAME.
* 此名称可以修改, 但是不要轻易修改
* 此名称建议以一定格式来命名, 笔者命名格式为: 项目名-job类型-war包获取方式-部署服务器类型

### 2.2 丢弃旧的构建

* 若不勾选此选项, jenkins 会保留所有的构建记录, 当项目多或者构建频繁时, 会占用大量磁盘空间
* 勾选后, 保留构建的天数和保持的最大个数配置一个即可, 笔者选择最大个数为5

### 2.3 参数化过程

* 参数化过程是指配置中的一些变量可接收点击构建时传入的参数.
* 点击添加参数, 选择 String Parameter

| 名字 | 默认值 |描述 |
| :--- | :--- |:--- |
| warName | LoadBalance | war包名称 |
| warDir | /tmp | war 包所在目录 |
| testUrl | http://172.22.12.225:7080/LoadBalance/index.jsp | 测试地址 |
| serverHome | /opt/app/tomcat/tomcat-7-7080 | 服务器路径 |
| timeout | 100 | 超时时间(s) |







